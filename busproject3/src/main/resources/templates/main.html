<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Reservation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: url(img/main_bg.gif) center 0 no-repeat;
            background-size: cover;
        }
        .active-tab {
            color: blue;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 50;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 400px;
            border-radius: 8px;
        }
    </style>
    <!-- Datepicker 라이브러리 추가 -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
<div class="flex">
    <!-- Sidebar -->
    <div class="w-1/5 bg-white shadow-md h-screen p-4">
        <div class="flex items-center mb-6">
            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path>
            </svg>
            <span class="font-bold">고속버스 예매 사이트</span>
        </div>
        <ul>
            <li class="mb-4"><a href="#" class="text-blue-500">고속버스 예매</a></li>
            <li class="mb-4"><a href="#">예매 확인</a></li>
            <li class="mb-4"><a href="#">운행 정보</a></li>
            <li class="mb-4"><a href="#">고객센터</a></li>
            <li><a href="#">공지사항</a></li>
        </ul>
    </div>
    <!-- Main Content -->
    <div class="w-4/5 p-8">
        <!-- Header -->
        <div class="flex justify-end space-x-4 mb-8">
            <button class="px-4 py-2 bg-orange-500 text-white rounded" id="loginBtn">로그인</button>
            <button class="px-4 py-2 bg-orange-500 text-white rounded"><a href="/join">회원가입</a></button>
            <button class="px-4 py-2 bg-orange-500 text-white rounded"><a href="">마이페이지</a></button>
            <button class="px-4 py-2 bg-orange-500 text-white rounded"><a href="">결제내역</a></button>
        </div>
        <!-- Login Modal -->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <h2 class="text-xl font-bold mb-4">Login</h2>
                <form id="login-form" role="form" method="post" action="/members/login">
                    <div class="form-group mb-4">
                        <input type="text" name="email" placeholder="Email" class="w-full px-4 py-2 border rounded">
                    </div>
                    <div class="form-group mb-4">
                        <input type="password" name="password" placeholder="Password" class="w-full px-4 py-2 border rounded">
                    </div>
                    <p th:if="${loginErrorMsg}" class="error text-red-500 mb-4" th:text="${loginErrorMsg}"></p>
                    <input type="submit" value="Login" class="w-full bg-blue-500 text-white py-2 rounded cursor-pointer">
                    <a href="/members/new" class="block text-center mt-4 text-gray-700">회원가입</a>
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                </form>
            </div>
        </div>
        <!-- Tabs -->
        <div class="flex space-x-8 mb-8">
            <button class="px-4 py-2 bg-blue-500 text-white rounded">고속버스 예매</button>
            <button class="px-4 py-2 bg-gray-200 rounded">예매 확인</button>
            <button class="px-4 py-2 bg-gray-200 rounded">도착시간 안내</button>
        </div>
        <!-- Form -->
        <div class="bg-white p-8 shadow-md rounded">
            <div class="grid grid-cols-3 gap-4 mb-4">
                <div>
                    <label for="departure" class="block mb-2">출발지</label>
                    <button id="departure" class="w-full px-4 py-2 border rounded">선택</button>
                </div>
                <div>
                    <label for="arrival" class="block mb-2">도착지</label>
                    <button id="arrival" class="w-full px-4 py-2 border rounded">선택</button>
                </div>
                <div>
                    <label for="date" class="block mb-2">가는날</label>
                    <div class="flex items-center">
                        <input type="text" id="date" class="w-full px-4 py-2 border rounded" value="2024. 7. 30 수" readonly>
                        <button id="datepicker-btn" class="ml-2 px-4 py-2 bg-gray-200 rounded">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 4h10M5 11h14M5 15h14M5 19h14"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="mb-4">
                <label class="block mb-2">좌석 등급</label>
                <div class="flex space-x-4">
                    <button class="px-4 py-2 border rounded active-tab">전체</button>
                    <button class="px-4 py-2 border rounded">프리미엄</button>
                    <button class="px-4 py-2 border rounded">우등</button>
                    <button class="px-4 py-2 border rounded">일반</button>
                </div>
            </div>
            <button class="w-full px-4 py-2 bg-blue-500 text-white rounded">조회하기</button>
        </div>
    </div>
</div>

<script>
    // 모달 제어
    var modal = document.getElementById("loginModal");
    var btn = document.getElementById("loginBtn");

    btn.onclick = function() {
        modal.style.display = "block";
    }

    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    // Datepicker 제어
    $(function() {
        $("#datepicker-btn").click(function() {
            $("#date").datepicker({
                dateFormat: 'yy/mm/dd',
                onSelect: function(dateText) {
                    var date = new Date(dateText);
                    var formattedDate = date.getFullYear() + '년 ' + ('0' + (date.getMonth() + 1)).slice(-2) + '월 ' + ('0' + date.getDate()).slice(-2) + '일';
                    $("#date").val(formattedDate);
                    $("#date").data('value', dateText.replace(/\//g, ''));
                }
            }).datepicker("show");
        });
    });
</script>
</body>
</html>
